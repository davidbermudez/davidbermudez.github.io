<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 11</title>
    <style>
        #palabra {
            font-family: 'Courier New', Courier, monospace;
        }
        #utilizadas {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body>
    <h1>El Ahorcado</h1>
    <p>Tiene ocho oportunidades para descubrir la palabra secreta</p>
    <button id="start" onclick="comienza()">Jugar</button>
    <p id="palabra">&nbsp;</p>
    <p id="utilizadas">&nbsp;</p>
    <p id="dibujo"><img id="ahorcado" src="" width="150" height="200"></p>
    <p id="perdiste" style="visibility: hidden;">Ohhh, perdiste</p>
    <p id="ganaste" style="visibility: hidden;">Enhorabuena, has ganado</p>
    <input id="letra" type="text" maxlength="1" style="visibility: hidden; width: 20px;">
    <button id="boton" onclick="letra()" style="visibility: hidden;">Enviar</button>
    <script>
        var errores = 0;
        var palabra = "";
        var descubiertas = ['_','_','_','_','_','_','_','_'];
        var utilizadas = [];
        var repositorio = ["aaronica", "aaronico", "aaronita", "ababilla", "ababille", "ababillo", "ababoles", "abacales", "abaceras", "abaceria", "abaceros", "abachaba", "abachada", "abachado", "abachais", "abachara", "abachare", "abachase", "abacheis", "abacorad", "abacoran", "abacorar", "abacoras", "abacoren", "abacores", "abadejos", "abadenga", "abadengo", "abaderna", "abaderne", "baalitas", "babadero", "babaeros", "babancas", "babancos", "babeaban", "babeabas", "babeamos", "babeando", "babearan", "babearas", "babearen", "babeares", "babearia", "babearon", "babeasen", "babeases", "babeaste", "babeemos", "babelica", "babelico", "babequia", "babianas", "babianos", "babiecas", "babillas", "babilona", "babirusa", "babismos", "babonuco", "caaminis", "cabadura", "cabalaba", "cabalada", "cabalado", "cabalais", "cabalara", "cabalare", "cabalase", "cabaleis", "cabalero", "cabalgad", "cabalgan", "cabalgar", "cabalgas", "cabalgue", "cabalina", "cabalino", "caballar", "caballas", "caballea", "caballee", "caballeo", "caballon", "caballos", "cabangas", "cabañera", "cabañero", "cabargas", "cabarras", "daciones", "dactilar", "dactilos", "dadaismo", "dadaista", "dadivada", "dadivado", "dadivosa", "dadivoso", "daguilla", "daiquiri", "dallaban", "dallabas", "dalladas", "dallador", "dallados", "dallamos", "dallando", "dallaran", "dallaras", "dallaren", "dallares", "dallaria", "dallaron", "dallasen", "dallases", "dallaste", "dallemos", "dalmatas", "damacena", "ebanista", "ebenacea", "ebenaceo", "ebionita", "ebonitas", "eboraria", "eborario", "ebriedad", "ebriosas", "ebriosos", "eburneas", "eburneos", "eccehomo", "ecdotica", "ecdotico", "eceptuar", "echabais", "echadera", "echadero", "echadiza", "echadizo", "echadora", "echadura", "echarais", "echareis", "echarian", "echarias", "echarpes", "echaseis", "ecijanas", "fablable", "fabordon", "fabricad", "fabrican", "fabricar", "fabricas", "fabridas", "fabridos", "fabriles", "fabrique", "fabulaba", "fabulada", "fabulado", "fabulais", "fabulara", "fabulare", "fabulase", "fabuleis", "fabulosa", "fabuloso", "facciosa", "faccioso", "facedora", "facerias", "fachaban", "fachabas", "fachadas", "fachados", "fachamos", "fachando", "gabachas", "gabachos", "gabardas", "gabarras", "gabarros", "gabinete", "gabletes", "gabonesa", "gacetera", "gacetero", "gachapos", "gachetas", "gachonas", "gachones", "gachumbo", "gachupin", "gacillas", "gaditana", "gaditano", "gaelicas", "gaelicos", "gaetanas", "gaetanos", "gafabais", "gafarais", "gafareis", "gafarian", "gafarias", "gafarron", "gafaseis", "habanera", "habanero", "habedera", "habedero", "haberada", "haberado", "haberios", "haberosa", "haberoso", "habiamos", "habidera", "habidero", "habiendo", "habiente", "habilita", "habilite", "habilito", "habillos", "habilosa", "habiloso", "habitaba", "habitada", "habitado", "habitais", "habitara", "habitare", "habitase", "habitats", "habiteis", "habituad", "ibarreña", "ibarreño", "ibericas", "ibericos", "iberismo", "ibicenca", "ibicenco", "icastica", "icastico", "icebergs", "icneumon", "iconicas", "iconicos", "icorosas", "icorosos", "icterica", "icterico", "icterido", "ictineas", "ictineos", "ictioles", "ictiosis", "ideabais", "ideacion", "idealice", "idealiza", "idealizo", "idearais", "ideareis", "idearian", "jabalcon", "jabalies", "jabalina", "jabalona", "jabalone", "jabalono", "jabaluna", "jabardea", "jabardee", "jabardeo", "jabardos", "jabegote", "jabelgad", "jabelgan", "jabelgar", "jabelgas", "jabelgue", "jabeques", "jabillos", "jabonaba", "jabonada", "jabonado", "jabonais", "jabonara", "jabonare", "jabonase", "jabonead", "jabonean", "jabonear", "jaboneas", "labiadas", "labiados", "labiales", "labiosas", "labiosos", "laboraba", "laborada", "laborado", "laborais", "laborara", "laborare", "laborase", "laboread", "laborean", "laborear", "laboreas", "laboreen", "laborees", "laboreis", "laboreos", "laborera", "laborios", "laborosa", "laboroso", "labraban", "labrabas", "labradas", "labradia", "labradio", "labrador", "macabais", "macabeas", "macabeos", "macabies", "macabras", "macabros", "macacada", "macachin", "macacoas", "macadams", "macaense", "macaguas", "macanazo", "macanche", "macancoa", "macandon", "macanead", "macanean", "macanear", "macaneas", "macaneen", "macanees", "macaneos", "macanuda", "macanudo", "macaquea", "macaquee", "macaqueo", "macarais", "macareis", "nabateas", "nabateos", "naberias", "naborias", "nabories", "nacarada", "nacarado", "nacareas", "nacareos", "nacarina", "nacarino", "nacatete", "nacedero", "nacencia", "nacereis", "nacerian", "nacerias", "naciamos", "naciendo", "naciente", "nacieran", "nacieras", "nacieren", "nacieres", "nacieron", "naciesen", "nacieses", "nacional", "naciones", "nacritas", "ñacurutu", "ñamerias", "ñampeaba", "ñampeada", "ñampeado", "ñampeais", "ñampeara", "ñampeare", "ñampease", "ñampeeis", "ñandubay", "ñandutis", "ñangaras", "ñangazos", "ñangotan", "ñangotar", "ñangotas", "ñangoten", "ñangotes", "ñapangas", "ñapangos", "ñapindas", "ñateaban", "ñateabas", "ñateadas", "ñateados", "ñateamos", "ñateando", "ñatearan", "ñatearas", "obcecaba", "obcecada", "obcecado", "obcecais", "obcecara", "obcecare", "obcecase", "obcequen", "obceques", "obedeced", "obedecen", "obedecer", "obedeces", "obedecia", "obedecio", "obedezca", "obedezco", "obelisco", "obenques", "obertura", "obesidad", "obispaba", "obispado", "obispais", "obispara", "obispare", "obispase", "obispeis", "obiubies", "objecion", "pabellon", "pabilosa", "pabiloso", "pacciona", "paccione", "pacciono", "pacedera", "pacedero", "pacedura", "pacenses", "pacereis", "pacerian", "pacerias", "pachacha", "pachacho", "pachanga", "pacharan", "pachecos", "pachiche", "pachichi", "pachilla", "pachocha", "pacholas", "pacholis", "pachonas", "pachones", "pachorra", "pachucas", "pachucha", "pachucho", "quebraba", "quebrada", "quebrado", "quebrais", "quebraja", "quebraje", "quebrajo", "quebrara", "quebrare", "quebrase", "quebraza", "quebreis", "quechuas", "quedaban", "quedabas", "quedadas", "quedados", "quedamos", "quedando", "quedaran", "quedaras", "quedaren", "quedares", "quedaria", "quedaron", "quedasen", "quedases", "quedaste", "quedemos", "quehacer", "rabalera", "rabalero", "rabanera", "rabanero", "rabaniza", "rabeaban", "rabeabas", "rabeamos", "rabeando", "rabearan", "rabearas", "rabearen", "rabeares", "rabearia", "rabearon", "rabeasen", "rabeases", "rabeaste", "rabeemos", "rabelero", "rabiaban", "rabiabas", "rabiadas", "rabiamos", "rabiando", "rabiaran", "rabiaras", "rabiaren", "rabiares", "rabiaria", "sabadeña", "sabadeño", "sabalera", "sabalero", "sabanazo", "sabanead", "sabanean", "sabanear", "sabaneas", "sabaneen", "sabanees", "sabaneos", "sabanera", "sabanero", "sabaneta", "sabatica", "sabatice", "sabatico", "sabatina", "sabatino", "sabatiza", "sabatizo", "sabedora", "sabeismo", "sabelica", "sabelico", "sabencia", "sabiamos", "sabicues", "sabidora", "tabachin", "tabacosa", "tabacoso", "tabaibal", "tabaibas", "tabalada", "tabalead", "tabalean", "tabalear", "tabaleas", "tabaleen", "tabalees", "tabaleos", "tabanazo", "tabancos", "tabanera", "tabanque", "tabaques", "tabardos", "tabarras", "tabarros", "tabascos", "tabelion", "tabellad", "tabellan", "tabellar", "tabellas", "tabellen", "tabelles", "tabernas", "ubajayes", "uberrima", "uberrimo", "ubetense", "ubicaban", "ubicabas", "ubicadas", "ubicados", "ubicamos", "ubicando", "ubicaran", "ubicaras", "ubicaren", "ubicares", "ubicaria", "ubicaron", "ubicasen", "ubicases", "ubicaste", "ubiqueis", "ucranias", "ucranios", "ucronias", "ucronica", "ucronico", "udometro", "ufanaban", "ufanabas", "ufanamos", "ufanando", "vacabais", "vacabuey", "vacacion", "vacancia", "vacantes", "vacarais", "vacareis", "vacarian", "vacarias", "vacaries", "vacaseis", "vacatura", "vaciaban", "vaciabas", "vaciadas", "vaciador", "vaciados", "vaciamos", "vaciando", "vaciante", "vaciaran", "vaciaras", "vaciaren", "vaciares", "vaciaria", "vaciaron", "vaciasen", "vaciases", "vaciaste", "vaciedad", "xantomas", "xenismos", "xenofoba", "xenofobo", "xerofila", "xerofilo", "xerofita", "xerofito", "xeroteca", "xicaques", "xifoidea", "xifoideo", "xifoides", "xilofaga", "xilofago", "xilofono", "xilotila", "xochiles", "xocoyote", "yaacabos", "yacentes", "yacereis", "yacerian", "yacerias", "yaciamos", "yaciendo", "yaciente", "yacieran", "yacieras", "yacieren", "yacieres", "yacieron", "yaciesen", "yacieses", "yacturas", "yacumeña", "yacumeño", "yagrumas", "yagrumos", "yaguales", "yaguanes", "yaguares", "yaguasas", "yaicuaje", "yambicas", "yambicos", "yanacona", "yanguesa", "yanillas", "zabazala", "zabordad", "zabordan", "zabordar", "zabordas", "zaborden", "zabordes", "zabordos", "zaborras", "zaborros", "zaboyaba", "zaboyada", "zaboyado", "zaboyais", "zaboyara", "zaboyare", "zaboyase", "zaboyeis", "zabucaba", "zabucada", "zabucado", "zabucais", "zabucara", "zabucare", "zabucase", "zabullan", "zabullas", "zabullen", "zabulles", "zabullia"];

        function comienza(){
            errores = 0;
            rand = Math.round(Math.random() * (repositorio.length));
            palabra = repositorio[rand];
            palabra = palabra.toUpperCase();
            descubiertas = ['_','_','_','_','_','_','_','_'];            
            document.getElementById('letra').style.visibility = 'visible';
            document.getElementById('boton').style.visibility = 'visible';
            document.getElementById('start').style.visibility = 'hidden';
            document.getElementById('perdiste').style.visibility = 'hidden';
            document.getElementById('ganaste').style.visibility = 'hidden';
            document.getElementById('letra').value = "";
            document.getElementById('utilizadas').value = "&nbsp;";
            document.getElementById('palabra').innerHTML = '_ _ _ _ _ _ _ _';
            document.getElementById("ahorcado").setAttribute("src", "");
        }

        function letra(){
            var letraElegida = document.getElementById("letra").value;
            if(letraElegida=="") return;
            letraElegida = letraElegida.toUpperCase();
            if(utilizadas.indexOf(letraElegida)==-1) utilizadas.push(letraElegida);            
            if(!verificar(letraElegida)){
                errores++;
                pintaErrores(errores);
            }
            pintaUtilizadas();
            var encontradas = false;
            descubiertas.forEach(element => {                
                if(element == null) {                    
                    encontradas = true;
                }
            })
            if(encontradas) pintaFin(true);
        }

        function pintaErrores(a){
            document.getElementById("ahorcado").setAttribute("src", "ahorcado" + (a) + ".png");
            if(a==8) {
                pintaFin(false);                
            }
        }

        function pintaFin(resultado) {
            document.getElementById('boton').style.visibility = 'hidden';
            document.getElementById('letra').style.visibility = 'hidden';                
            document.getElementById('start').style.visibility = 'visible';
            if(resultado) {
                document.getElementById('ganaste').style.visibility = 'visible';
            } else {
                document.getElementById('perdiste').style.visibility = 'visible';
            }
        }

        function pintaUtilizadas(){
            let p = "";
            utilizadas.forEach(element => {                
              p = p + element + " ";  
            });
            document.getElementById("utilizadas").innerHTML = p;
        }

        function verificar(a){
            var p = "";
            var encontrada = false;            
            for(let i = 0; i < palabra.length; i++){
                if(a === palabra.charAt(i)) {
                    descubiertas[i] = a;                    
                    encontrada = true;
                }
            }            
            descubiertas.forEach(element => {                
                if(element == null) {
                    p = p + "_" + " ";
                    en2 = true;
                } else {
                    p = p + element + " ";
                }
            })
            document.getElementById('palabra').innerHTML = p;
            return encontrada;
        }
    </script>
</body>
</html>